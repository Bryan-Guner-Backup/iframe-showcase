<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="yargs">yargs</h1>
<p>Yargs be a node.js library fer hearties tryin’ ter parse optstrings.</p>
<p>With yargs, ye be havin’ a map that leads straight to yer treasure! Treasure of course, being a simple option hash.</p>
<p><a href="https://travis-ci.org/bcoe/yargs"><img src="https://travis-ci.org/bcoe/yargs.png" alt="Build Status" /></a> <a href="https://gemnasium.com/bcoe/yargs"><img src="https://gemnasium.com/bcoe/yargs.png" alt="Dependency Status" /></a> <a href="https://coveralls.io/r/bcoe/yargs?branch="><img src="https://coveralls.io/repos/bcoe/yargs/badge.svg?branch=" alt="Coverage Status" /></a> <a href="https://www.npmjs.com/package/yargs"><img src="https://img.shields.io/npm/v/yargs.svg" alt="NPM version" /></a></p>
<blockquote>
<p>Yargs is the official successor to optimist. Please feel free to submit issues and pull requests. If you’d like to contribute and don’t know where to start, have a look at <a href="https://github.com/bcoe/yargs/issues">the issue list</a> :)</p>
</blockquote>
<h1 id="examples">examples</h1>
<h2 id="with-yargs-the-options-be-just-a-hash">With yargs, the options be just a hash!</h2>
<p>plunder.js:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="cf">if</span> (<span class="va">argv</span>.<span class="at">ships</span> <span class="op">&gt;</span> <span class="dv">3</span> <span class="op">&amp;&amp;</span> <span class="va">argv</span>.<span class="at">distance</span> <span class="op">&lt;</span> <span class="fl">53.5</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Plunder more riffiwobbles!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Retreat from the xupptumblers!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="op">}</span></a></code></pre></div>
<hr />
<pre><code>$ ./plunder.js --ships=4 --distance=22
Plunder more riffiwobbles!

$ ./plunder.js --ships 12 --distance 98.7
Retreat from the xupptumblers!</code></pre>
<figure>
<img src="http://i.imgur.com/4WFGVJ9.png" alt="Joe was one optimistic pirate." /><figcaption>Joe was one optimistic pirate.</figcaption>
</figure>
<h2 id="but-dont-walk-the-plank-just-yet-there-be-more-you-can-do-short-options">But don’t walk the plank just yet! There be more! You can do short options:</h2>
<p>short.js:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;(%d,%d)&#39;</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">x</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">y</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./short.js -x 10 -y 21
(10,21)</code></pre>
<h2 id="and-booleans-both-long-short-and-even-grouped">And booleans, both long, short, and even grouped:</h2>
<p>bool.js:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">var</span> util <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;util&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="cf">if</span> (<span class="va">argv</span>.<span class="at">s</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="va">util</span>.<span class="at">print</span>(<span class="va">argv</span>.<span class="at">fr</span> <span class="op">?</span> <span class="st">&#39;Le perroquet dit: &#39;</span> : <span class="st">&#39;The parrot says: &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb5-9" title="9">    (<span class="va">argv</span>.<span class="at">fr</span> <span class="op">?</span> <span class="st">&#39;couac&#39;</span> : <span class="st">&#39;squawk&#39;</span>) <span class="op">+</span> (<span class="va">argv</span>.<span class="at">p</span> <span class="op">?</span> <span class="st">&#39;!&#39;</span> : <span class="st">&#39;&#39;</span>)</a>
<a class="sourceLine" id="cb5-10" title="10">)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./bool.js -s
The parrot says: squawk

$ ./bool.js -sp
The parrot says: squawk!

$ ./bool.js -sp --fr
Le perroquet dit: couac!</code></pre>
<h2 id="and-non-hyphenated-options-too-just-use-argv._">And non-hyphenated options too! Just use <code>argv._</code>!</h2>
<p>nonopt.js:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;(%d,%d)&#39;</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">x</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">y</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="va">argv</span>.<span class="at">_</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./nonopt.js -x 6.82 -y 3.35 rum
(6.82,3.35)
[ &#39;rum&#39; ]

$ ./nonopt.js &quot;me hearties&quot; -x 0.54 yo -y 1.12 ho
(0.54,1.12)
[ &#39;me hearties&#39;, &#39;yo&#39;, &#39;ho&#39; ]</code></pre>
<h2 id="yargs-even-counts-your-booleans">Yargs even counts your booleans!</h2>
<p>count.js</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb9-3" title="3">    .<span class="at">count</span>(<span class="st">&#39;verbose&#39;</span>)</a>
<a class="sourceLine" id="cb9-4" title="4">    .<span class="at">alias</span>(<span class="st">&#39;v&#39;</span><span class="op">,</span> <span class="st">&#39;verbose&#39;</span>)</a>
<a class="sourceLine" id="cb9-5" title="5">    .<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7">VERBOSE_LEVEL <span class="op">=</span> <span class="va">argv</span>.<span class="at">verbose</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8"></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="kw">function</span> <span class="at">WARN</span>()  <span class="op">{</span> VERBOSE_LEVEL <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> <span class="va">console</span>.<span class="va">log</span>.<span class="at">apply</span>(console<span class="op">,</span> <span class="kw">arguments</span>)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="kw">function</span> <span class="at">INFO</span>()  <span class="op">{</span> VERBOSE_LEVEL <span class="op">&gt;=</span> <span class="dv">1</span> <span class="op">&amp;&amp;</span> <span class="va">console</span>.<span class="va">log</span>.<span class="at">apply</span>(console<span class="op">,</span> <span class="kw">arguments</span>)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="kw">function</span> <span class="at">DEBUG</span>() <span class="op">{</span> VERBOSE_LEVEL <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">&amp;&amp;</span> <span class="va">console</span>.<span class="va">log</span>.<span class="at">apply</span>(console<span class="op">,</span> <span class="kw">arguments</span>)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb9-12" title="12"></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="at">WARN</span>(<span class="st">&quot;Showing only important stuff&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="at">INFO</span>(<span class="st">&quot;Showing semi-mportant stuff too&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="at">DEBUG</span>(<span class="st">&quot;Extra chatty mode&quot;</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ node count.js
Showing only important stuff

$ node count.js -v
Showing only important stuff
Showing semi-important stuff too

$ node count.js -vv
Showing only important stuff
Showing semi-important stuff too
Extra chatty mode

$ node count.js -v --verbose
Showing only important stuff
Showing semi-important stuff too
Extra chatty mode</code></pre>
<h2 id="tell-users-how-to-use-yer-options-and-make-demands.">Tell users how to use yer options and make demands.</h2>
<p>area.js:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb11-3" title="3">    .<span class="at">usage</span>(<span class="st">&#39;Usage: $0 -w [num] -yh[num]&#39;</span>)</a>
<a class="sourceLine" id="cb11-4" title="4">    .<span class="at">demand</span>([<span class="st">&#39;w&#39;</span><span class="op">,</span><span class="st">&#39;h&#39;</span>])</a>
<a class="sourceLine" id="cb11-5" title="5">    .<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6"></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;The area is:&quot;</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">w</span> <span class="op">*</span> <span class="va">argv</span>.<span class="at">h</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./area.js -w 55 -h 11
605

$ node ./area.js -w 4.91 -w 2.51
Usage: node ./area.js -w [num] -h [num]

Options:
  -w  [required]
  -h  [required]

Missing required arguments: h</code></pre>
<h2 id="after-yer-demands-have-been-met-demand-more-ask-for-non-hypenated-arguments">After yer demands have been met, demand more! Ask for non-hypenated arguments!</h2>
<p>demand_count.js:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb13-3" title="3">    .<span class="at">demand</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb13-4" title="4">    .<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="va">console</span>.<span class="at">dir</span>(argv)</a></code></pre></div>
<hr />
<pre><code>$ ./demand_count.js a
Not enough arguments, expected 2, but only found 1
$ ./demand_count.js a b
{ _: [ &#39;a&#39;, &#39;b&#39; ], &#39;$0&#39;: &#39;node ./demand_count.js&#39; }
$ ./demand_count.js a b c
{ _: [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39; ], &#39;$0&#39;: &#39;node ./demand_count.js&#39; }</code></pre>
<h2 id="even-more-shiver-me-timbers">EVEN MORE SHIVER ME TIMBERS!</h2>
<p>default_singles.js:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb15-3" title="3">    .<span class="at">default</span>(<span class="st">&#39;x&#39;</span><span class="op">,</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb15-4" title="4">    .<span class="at">default</span>(<span class="st">&#39;y&#39;</span><span class="op">,</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb15-5" title="5">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="op">;</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="va">console</span>.<span class="at">log</span>(<span class="va">argv</span>.<span class="at">x</span> <span class="op">+</span> <span class="va">argv</span>.<span class="at">y</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./default_singles.js -x 5
15</code></pre>
<p>default_hash.js:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb17-3" title="3">    .<span class="at">default</span>(<span class="op">{</span> <span class="dt">x </span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y </span><span class="op">:</span> <span class="dv">10</span> <span class="op">}</span>)</a>
<a class="sourceLine" id="cb17-4" title="4">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="va">console</span>.<span class="at">log</span>(<span class="va">argv</span>.<span class="at">x</span> <span class="op">+</span> <span class="va">argv</span>.<span class="at">y</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./default_hash.js -y 7
17</code></pre>
<h2 id="and-if-you-really-want-to-get-all-descriptive-about-it">And if you really want to get all descriptive about it…</h2>
<p>boolean_single.js</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb19-3" title="3">    .<span class="at">boolean</span>(<span class="st">&#39;v&#39;</span>)</a>
<a class="sourceLine" id="cb19-4" title="4">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="op">;</span></a>
<a class="sourceLine" id="cb19-6" title="6"><span class="va">console</span>.<span class="at">dir</span>(<span class="va">argv</span>.<span class="at">v</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-7" title="7"><span class="va">console</span>.<span class="at">dir</span>(<span class="va">argv</span>.<span class="at">_</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./boolean_single.js -v &quot;me hearties&quot; yo ho
true
[ &#39;me hearties&#39;, &#39;yo&#39;, &#39;ho&#39; ]</code></pre>
<p>boolean_double.js</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb21-3" title="3">    .<span class="at">boolean</span>([<span class="st">&#39;x&#39;</span><span class="op">,</span><span class="st">&#39;y&#39;</span><span class="op">,</span><span class="st">&#39;z&#39;</span>])</a>
<a class="sourceLine" id="cb21-4" title="4">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="op">;</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="va">console</span>.<span class="at">dir</span>([ <span class="va">argv</span>.<span class="at">x</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">y</span><span class="op">,</span> <span class="va">argv</span>.<span class="at">z</span> ])<span class="op">;</span></a>
<a class="sourceLine" id="cb21-7" title="7"><span class="va">console</span>.<span class="at">dir</span>(<span class="va">argv</span>.<span class="at">_</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ ./boolean_double.js -x -z one two three
[ true, false, true ]
[ &#39;one&#39;, &#39;two&#39;, &#39;three&#39; ]</code></pre>
<h2 id="yargs-is-here-to-help-you">Yargs is here to help you…</h2>
<p>Ye can describe parameters fer help messages and set aliases. Yargs figures out how ter format a handy help string automatically.</p>
<p>line_count.js</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb23-3" title="3">    .<span class="at">usage</span>(<span class="st">&#39;Usage: $0 &lt;command&gt; [options]&#39;</span>)</a>
<a class="sourceLine" id="cb23-4" title="4">    .<span class="at">command</span>(<span class="st">&#39;count&#39;</span><span class="op">,</span> <span class="st">&#39;Count the lines in a file&#39;</span>)</a>
<a class="sourceLine" id="cb23-5" title="5">    .<span class="at">demand</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb23-6" title="6">    .<span class="at">example</span>(<span class="st">&#39;$0 count -f foo.js&#39;</span><span class="op">,</span> <span class="st">&#39;count the lines in the given file&#39;</span>)</a>
<a class="sourceLine" id="cb23-7" title="7">    .<span class="at">demand</span>(<span class="st">&#39;f&#39;</span>)</a>
<a class="sourceLine" id="cb23-8" title="8">    .<span class="at">alias</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;file&#39;</span>)</a>
<a class="sourceLine" id="cb23-9" title="9">    .<span class="at">nargs</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb23-10" title="10">    .<span class="at">describe</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;Load a file&#39;</span>)</a>
<a class="sourceLine" id="cb23-11" title="11">    .<span class="at">help</span>(<span class="st">&#39;h&#39;</span>)</a>
<a class="sourceLine" id="cb23-12" title="12">    .<span class="at">alias</span>(<span class="st">&#39;h&#39;</span><span class="op">,</span> <span class="st">&#39;help&#39;</span>)</a>
<a class="sourceLine" id="cb23-13" title="13">    .<span class="at">epilog</span>(<span class="st">&#39;copyright 2015&#39;</span>)</a>
<a class="sourceLine" id="cb23-14" title="14">    .<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-15" title="15"></a>
<a class="sourceLine" id="cb23-16" title="16"><span class="kw">var</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb23-17" title="17"><span class="kw">var</span> s <span class="op">=</span> <span class="va">fs</span>.<span class="at">createReadStream</span>(<span class="va">argv</span>.<span class="at">file</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb23-18" title="18"></a>
<a class="sourceLine" id="cb23-19" title="19"><span class="kw">var</span> lines <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-20" title="20"><span class="va">s</span>.<span class="at">on</span>(<span class="st">&#39;data&#39;</span><span class="op">,</span> <span class="kw">function</span> (buf) <span class="op">{</span></a>
<a class="sourceLine" id="cb23-21" title="21">    lines <span class="op">+=</span> <span class="va">buf</span>.<span class="at">toString</span>().<span class="at">match</span>(<span class="ss">/</span><span class="sc">\n</span><span class="ss">/g</span>).<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-22" title="22"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb23-23" title="23"></a>
<a class="sourceLine" id="cb23-24" title="24"><span class="va">s</span>.<span class="at">on</span>(<span class="st">&#39;end&#39;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb23-25" title="25">    <span class="va">console</span>.<span class="at">log</span>(lines)<span class="op">;</span></a>
<a class="sourceLine" id="cb23-26" title="26"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<hr />
<pre><code>$ node line_count.js count
Usage: node test.js &lt;command&gt; [options]

Commands:
  count    Count the lines in a file

Options:
  -f, --file  Load a file        [required]
  -h, --help  Show help

Examples:
  node test.js count -f foo.js    count the lines in the given file

copyright 2015

Missing required arguments: f

$ node line_count.js count --file line_count.js
20

$ node line_count.js count -f line_count.js
20</code></pre>
<h1 id="methods">methods</h1>
<p>By itself,</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">argv</span></a></code></pre></div>
<p>will use <code>process.argv</code> array to construct the <code>argv</code> object.</p>
<p>You can pass in the <code>process.argv</code> yourself:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"><span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)([ <span class="st">&#39;-x&#39;</span><span class="op">,</span> <span class="st">&#39;1&#39;</span><span class="op">,</span> <span class="st">&#39;-y&#39;</span><span class="op">,</span> <span class="st">&#39;2&#39;</span> ]).<span class="at">argv</span></a></code></pre></div>
<p>or use .parse() to do the same thing:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>).<span class="at">parse</span>([ <span class="st">&#39;-x&#39;</span><span class="op">,</span> <span class="st">&#39;1&#39;</span><span class="op">,</span> <span class="st">&#39;-y&#39;</span><span class="op">,</span> <span class="st">&#39;2&#39;</span> ])</a></code></pre></div>
<p>The rest of these methods below come in just before the terminating <code>.argv</code>.</p>
<h2 id="aliaskey-alias">.alias(key, alias)</h2>
<p>Set key names as equivalent such that updates to a key will propagate to aliases and vice-versa.</p>
<p>Optionally <code>.alias()</code> can take an object that maps keys to aliases. Each key of this object should be the canonical version of the option, and each value should be a string or an array of strings.</p>
<h2 id="defaultkey-value-description">.default(key, value, [description])</h2>
<p>Set <code>argv[key]</code> to <code>value</code> if no option was specified on <code>process.argv</code>.</p>
<p>Optionally <code>.default()</code> can take an object that maps keys to default values.</p>
<p>But wait, there’s more! the default value can be a <code>function</code> which returns a value. The name of the function will be used in the usage string:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb28-2" title="2">  .<span class="at">default</span>(<span class="st">&#39;random&#39;</span><span class="op">,</span> <span class="kw">function</span> <span class="at">randomValue</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb28-3" title="3">    <span class="cf">return</span> <span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">256</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-4" title="4">  <span class="op">}</span>).<span class="at">argv</span><span class="op">;</span></a></code></pre></div>
<p>Optionally, <code>description</code> can also be provided and will take precedence over displaying the value in the usage instructions:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1">.<span class="at">default</span>(<span class="st">&#39;timeout&#39;</span><span class="op">,</span> <span class="dv">60000</span><span class="op">,</span> <span class="st">&#39;(one-minute)&#39;</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="demandkey-msg-boolean">.demand(key, [msg | boolean])</h2>
<h2 id="requirekey-msg-boolean">.require(key, [msg | boolean])</h2>
<h2 id="requiredkey-msg-boolean">.required(key, [msg | boolean])</h2>
<p>If <code>key</code> is a string, show the usage information and exit if <code>key</code> wasn’t specified in <code>process.argv</code>.</p>
<p>If <code>key</code> is a number, demand at least as many non-option arguments, which show up in <code>argv._</code>.</p>
<p>If <code>key</code> is an Array, demand each element.</p>
<p>If a <code>msg</code> string is given, it will be printed when the argument is missing, instead of the standard error message. This is especially helpful for the non-option arguments in <code>argv._</code>.</p>
<p>If a <code>boolean</code> value is given, it controls whether the option is demanded; this is useful when using <code>.options()</code> to specify command line parameters.</p>
<h2 id="requiresargkey">.requiresArg(key)</h2>
<p>Specifies either a single option key (string), or an array of options that must be followed by option values. If any option value is missing, show the usage information and exit.</p>
<p>The default behaviour is to set the value of any key not followed by an option value to <code>true</code>.</p>
<h2 id="impliesx-y">.implies(x, y)</h2>
<p>Given the key <code>x</code> is set, it is required that the key <code>y</code> is set.</p>
<p>implies can also accept an object specifying multiple implications.</p>
<h2 id="describekey-desc">.describe(key, desc)</h2>
<p>Describe a <code>key</code> for the generated usage information.</p>
<p>Optionally <code>.describe()</code> can take an object that maps keys to descriptions.</p>
<h2 id="optionkey-opt">.option(key, opt)</h2>
<h2 id="optionskey-opt">.options(key, opt)</h2>
<p>Instead of chaining together <code>.alias().demand().default().describe().string()</code>, you can specify keys in <code>opt</code> for each of the chainable methods.</p>
<p>For example:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb30-2" title="2">    .<span class="at">option</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-3" title="3">        <span class="dt">alias </span><span class="op">:</span> <span class="st">&#39;file&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb30-4" title="4">        <span class="dt">demand</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb30-5" title="5">        <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;/etc/passwd&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb30-6" title="6">        <span class="dt">describe</span><span class="op">:</span> <span class="st">&#39;x marks the spot&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb30-7" title="7">        <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span></a>
<a class="sourceLine" id="cb30-8" title="8">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb30-9" title="9">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb30-10" title="10"><span class="op">;</span></a></code></pre></div>
<p>is the same as</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb31-2" title="2">    .<span class="at">alias</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;file&#39;</span>)</a>
<a class="sourceLine" id="cb31-3" title="3">    .<span class="at">default</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;/etc/passwd&#39;</span>)</a>
<a class="sourceLine" id="cb31-4" title="4">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="op">;</span></a></code></pre></div>
<p>Optionally <code>.options()</code> can take an object that maps keys to <code>opt</code> parameters.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb32-2" title="2">    .<span class="at">options</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb32-3" title="3">      <span class="st">&#39;f&#39;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-4" title="4">        <span class="dt">alias</span><span class="op">:</span> <span class="st">&#39;file&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-5" title="5">        <span class="dt">demand</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-6" title="6">        <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;/etc/passwd&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-7" title="7">        <span class="dt">describe</span><span class="op">:</span> <span class="st">&#39;x marks the spot&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-8" title="8">        <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span></a>
<a class="sourceLine" id="cb32-9" title="9">      <span class="op">}</span></a>
<a class="sourceLine" id="cb32-10" title="10">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb32-11" title="11">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb32-12" title="12"><span class="op">;</span></a></code></pre></div>
<h2 id="usagemessage-opts">.usage(message, opts)</h2>
<p>Set a usage message to show which commands to use. Inside <code>message</code>, the string <code>$0</code> will get interpolated to the current script name or node command for the present script similar to how <code>$0</code> works in bash or perl.</p>
<p><code>opts</code> is optional and acts like calling <code>.options(opts)</code>.</p>
<h2 id="commandcmd-desc-fn">.command(cmd, desc, [fn])</h2>
<p>Document the commands exposed by your application.</p>
<p>use <code>desc</code> to provide a description for each command your application accepts (the values stored in <code>argv._</code>).</p>
<p>Optionally, you can provide a handler <code>fn</code> which will be executed when a given command is provided. The handler will be executed with an instance of <code>yargs</code>, which can be used to compose nested commands.</p>
<p>Here’s an example of top-level and nested commands in action:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb33-2" title="2">  .<span class="at">usage</span>(<span class="st">&#39;npm &lt;command&gt;&#39;</span>)</a>
<a class="sourceLine" id="cb33-3" title="3">  .<span class="at">command</span>(<span class="st">&#39;install&#39;</span><span class="op">,</span> <span class="st">&#39;tis a mighty fine package to install&#39;</span>)</a>
<a class="sourceLine" id="cb33-4" title="4">  .<span class="at">command</span>(<span class="st">&#39;publish&#39;</span><span class="op">,</span> <span class="st">&#39;shiver me timbers, should you be sharing all that&#39;</span><span class="op">,</span> <span class="kw">function</span> (yargs) <span class="op">{</span></a>
<a class="sourceLine" id="cb33-5" title="5">    argv <span class="op">=</span> <span class="va">yargs</span>.<span class="at">option</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-6" title="6">      <span class="dt">alias</span><span class="op">:</span> <span class="st">&#39;force&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb33-7" title="7">      <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;yar, it usually be a bad idea&#39;</span></a>
<a class="sourceLine" id="cb33-8" title="8">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb33-9" title="9">    .<span class="at">help</span>(<span class="st">&#39;help&#39;</span>)</a>
<a class="sourceLine" id="cb33-10" title="10">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb33-11" title="11">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb33-12" title="12">  .<span class="at">help</span>(<span class="st">&#39;help&#39;</span>)</a>
<a class="sourceLine" id="cb33-13" title="13">  .<span class="at">argv</span><span class="op">;</span></a></code></pre></div>
<h2 id="examplecmd-desc">.example(cmd, desc)</h2>
<p>Give some example invocations of your program. Inside <code>cmd</code>, the string <code>$0</code> will get interpolated to the current script name or node command for the present script similar to how <code>$0</code> works in bash or perl. Examples will be printed out as part of the help message.</p>
<h2 id="epiloguestr">.epilogue(str)</h2>
<h2 id="epilogstr">.epilog(str)</h2>
<p>A message to print at the end of the usage instructions, e.g.,</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb34-2" title="2">  .<span class="at">epilogue</span>(<span class="st">&#39;for more information, find our manual at http://example.com&#39;</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="checkfn">.check(fn)</h2>
<p>Check that certain conditions are met in the provided arguments.</p>
<p><code>fn</code> is called with two arguments, the parsed <code>argv</code> hash and an array of options and their aliases.</p>
<p>If <code>fn</code> throws or returns a non-truthy value, show the thrown error, usage information, and exit.</p>
<h2 id="failfn">.fail(fn)</h2>
<p>Method to execute when a failure occurs, rather then printing the failure message.</p>
<p><code>fn</code> is called with the failure message that would have been printed.</p>
<h2 id="booleankey">.boolean(key)</h2>
<p>Interpret <code>key</code> as a boolean. If a non-flag option follows <code>key</code> in <code>process.argv</code>, that string won’t get set as the value of <code>key</code>.</p>
<p><code>key</code> will default to <code>false</code>, unless an <code>default(key, undefined)</code> is explicitly set.</p>
<p>If <code>key</code> is an Array, interpret all the elements as booleans.</p>
<h2 id="stringkey">.string(key)</h2>
<p>Tell the parser logic not to interpret <code>key</code> as a number or boolean. This can be useful if you need to preserve leading zeros in an input.</p>
<p>If <code>key</code> is an Array, interpret all the elements as strings.</p>
<p><code>.string('_')</code> will result in non-hyphenated arguments being interpreted as strings, regardless of whether they resemble numbers.</p>
<h2 id="arraykey">.array(key)</h2>
<p>Tell the parser to interpret <code>key</code> as an array. If <code>.array('foo')</code> is set, <code>--foo foo bar</code> will be parsed as <code>['foo', 'bar']</code> rather than as <code>'bar'</code>.</p>
<h2 id="nargskey-count">.nargs(key, count)</h2>
<p>The number of arguments that should be consumed after a key. This can be a useful hint to prevent parsing ambiguity:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb35-2" title="2">  .<span class="at">nargs</span>(<span class="st">&#39;token&#39;</span><span class="op">,</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb35-3" title="3">  .<span class="at">parse</span>([<span class="st">&#39;--token&#39;</span><span class="op">,</span> <span class="st">&#39;-my-token&#39;</span>])<span class="op">;</span></a></code></pre></div>
<p>parses as:</p>
<p><code>{ _: [], token: '-my-token', '$0': 'node test' }</code></p>
<p>Optionally <code>.nargs()</code> can take an object of <code>key</code>/<code>narg</code> pairs.</p>
<h2 id="configkey">.config(key)</h2>
<p>Tells the parser that if the option specified by <code>key</code> is passed in, it should be interpreted as a path to a JSON config file. The file is loaded and parsed, and its properties are set as arguments.</p>
<h2 id="wrapcolumns">.wrap(columns)</h2>
<p>Format usage output to wrap at <code>columns</code> many columns.</p>
<p>By default wrap will be set to <code>Math.min(80, windowWidth)</code>. Use <code>.wrap(null)</code> to specify no column limit.</p>
<p><code>yargs.wrap(yargs.terminalWidth())</code> can be used to maximize the width of yargs’ usage instructions.</p>
<h2 id="strict">.strict()</h2>
<p>Any command-line argument given that is not demanded, or does not have a corresponding description, will be reported as an error.</p>
<h2 id="helpoption-description">.help([option, [description]])</h2>
<p>Add an option (e.g., <code>--help</code>) that displays the usage string and exits the process. If present, the <code>description</code> parameter customises the description of the help option in the usage string.</p>
<p>If invoked without parameters, <code>.help</code> returns the generated usage string.</p>
<p>Example:</p>
<pre><code>var yargs = require(&quot;yargs&quot;)
       .usage(&quot;$0 -operand1 number -operand2 number -operation [add|subtract]&quot;);
console.log(yargs.help());</code></pre>
<p>Later on, <code>argv</code> can be retrived with <code>yargs.argv</code></p>
<h2 id="versionversion-option-description">.version(version, [option], [description])</h2>
<p>Add an option (e.g., <code>--version</code>) that displays the version number (given by the <code>version</code> parameter) and exits the process. If present, the <code>description</code> parameter customizes the description of the version option in the usage string.</p>
<p>You can provide a <code>function</code> for version, rather than a string. This is useful if you want to use the version from your package.json:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb37-2" title="2">  .<span class="at">version</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb37-3" title="3">    <span class="cf">return</span> <span class="at">require</span>(<span class="st">&#39;../package&#39;</span>).<span class="at">version</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-4" title="4">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb37-5" title="5">  .<span class="at">argv</span><span class="op">;</span></a></code></pre></div>
<h2 id="showhelponfailenable-message">.showHelpOnFail(enable, [message])</h2>
<p>By default, yargs outputs a usage string if any error is detected. Use the <code>.showHelpOnFail</code> method to customize this behaviour. if <code>enable</code> is <code>false</code>, the usage string is not output. If the <code>message</code> parameter is present, this message is output after the error message.</p>
<p>line_count.js</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" title="1"><span class="co">#!/usr/bin/env node</span></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb38-3" title="3">    .<span class="at">usage</span>(<span class="st">&#39;Count the lines in a file.</span><span class="sc">\n</span><span class="st">Usage: $0&#39;</span>)</a>
<a class="sourceLine" id="cb38-4" title="4">    .<span class="at">demand</span>(<span class="st">&#39;f&#39;</span>)</a>
<a class="sourceLine" id="cb38-5" title="5">    .<span class="at">alias</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;file&#39;</span>)</a>
<a class="sourceLine" id="cb38-6" title="6">    .<span class="at">describe</span>(<span class="st">&#39;f&#39;</span><span class="op">,</span> <span class="st">&#39;Load a file&#39;</span>)</a>
<a class="sourceLine" id="cb38-7" title="7">    .<span class="at">showHelpOnFail</span>(<span class="kw">false</span><span class="op">,</span> <span class="st">&quot;Specify --help for available options&quot;</span>)</a>
<a class="sourceLine" id="cb38-8" title="8">    .<span class="at">argv</span><span class="op">;</span></a>
<a class="sourceLine" id="cb38-9" title="9"></a>
<a class="sourceLine" id="cb38-10" title="10"><span class="co">// etc.</span></a></code></pre></div>
<hr />
<pre><code>$ node line_count.js --file
Missing argument value: f

Specify --help for available options</code></pre>
<h2 id="showhelpconsolelevelerror">.showHelp(consoleLevel=‘error’)</h2>
<p>Print the usage data using the <a href="https://nodejs.org/api/console.html"><code>console</code></a> function <code>consoleLevel</code> for printing.</p>
<p>Example:</p>
<pre><code>var yargs = require(&quot;yargs&quot;)
       .usage(&quot;$0 -operand1 number -operand2 number -operation [add|subtract]&quot;);
yargs.showHelp();</code></pre>
<p>Or, to print the usage data to <code>stdout</code> instead, you can specify the use of <code>console.log</code>:</p>
<pre><code>yargs.showHelp(&quot;log&quot;);</code></pre>
<p>Later on, <code>argv</code> can be retrived with <code>yargs.argv</code></p>
<h2 id="completioncmd-description-fn">.completion(cmd, [description], [fn]);</h2>
<p>Enable bash-completion shortcuts for commands and options.</p>
<p><code>cmd</code>: when present in <code>argv._</code>, will result in the <code>.bashrc</code> completion script being outputted. To enable bash completions, concat the generated script to your <code>.bashrc</code>, or <code>.bash_profile</code>.</p>
<p><code>description</code>: provide a description in your usage instructions for the command that generates bash completion scripts.</p>
<p><code>fn</code>, rather than relying on yargs’ default completion functionlity, which shiver me timbers is pretty awesome, you can provide your own completion method.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb42-2" title="2">  .<span class="at">completion</span>(<span class="st">&#39;completion&#39;</span><span class="op">,</span> <span class="kw">function</span>(current<span class="op">,</span> argv) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-3" title="3">    <span class="co">// &#39;current&#39; is the current command being completed.</span></a>
<a class="sourceLine" id="cb42-4" title="4">    <span class="co">// &#39;argv&#39; is the parsed arguments so far.</span></a>
<a class="sourceLine" id="cb42-5" title="5">    <span class="co">// simply return an array of completions.</span></a>
<a class="sourceLine" id="cb42-6" title="6">    <span class="cf">return</span> [</a>
<a class="sourceLine" id="cb42-7" title="7">      <span class="st">&#39;foo&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb42-8" title="8">      <span class="st">&#39;bar&#39;</span></a>
<a class="sourceLine" id="cb42-9" title="9">    ]<span class="op">;</span></a>
<a class="sourceLine" id="cb42-10" title="10">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb42-11" title="11">  .<span class="at">argv</span><span class="op">;</span></a></code></pre></div>
<p>But wait, there’s more! you can provide asynchronous completions.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">var</span> argv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;yargs&#39;</span>)</a>
<a class="sourceLine" id="cb43-2" title="2">  .<span class="at">completion</span>(<span class="st">&#39;completion&#39;</span><span class="op">,</span> <span class="kw">function</span>(current<span class="op">,</span> argv<span class="op">,</span> done) <span class="op">{</span></a>
<a class="sourceLine" id="cb43-3" title="3">    <span class="at">setTimeout</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb43-4" title="4">      <span class="at">done</span>([</a>
<a class="sourceLine" id="cb43-5" title="5">        <span class="st">&#39;apple&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb43-6" title="6">        <span class="st">&#39;banana&#39;</span></a>
<a class="sourceLine" id="cb43-7" title="7">      ])<span class="op">;</span></a>
<a class="sourceLine" id="cb43-8" title="8">    <span class="op">},</span> <span class="dv">500</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-9" title="9">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb43-10" title="10">  .<span class="at">argv</span><span class="op">;</span></a></code></pre></div>
<h2 id="showcompletionscript">.showCompletionScript()</h2>
<p>Generate a bash completion script. Users of your application can install this script in their <code>.bashrc</code>, and yargs will provide completion shortcuts for commands and options.</p>
<h2 id="exitprocessenable">.exitProcess(enable)</h2>
<p>By default, yargs exits the process when the user passes a help flag, uses the <code>.version</code> functionality or when validation fails. Calling <code>.exitProcess(false)</code> disables this behavior, enabling further actions after yargs have been validated.</p>
<h2 id="parseargs">.parse(args)</h2>
<p>Parse <code>args</code> instead of <code>process.argv</code>. Returns the <code>argv</code> object.</p>
<h2 id="reset">.reset()</h2>
<p>Reset the argument object built up so far. This is useful for creating nested command line interfaces.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">var</span> yargs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;./yargs&#39;</span>)</a>
<a class="sourceLine" id="cb44-2" title="2">  .<span class="at">usage</span>(<span class="st">&#39;$0 command&#39;</span>)</a>
<a class="sourceLine" id="cb44-3" title="3">  .<span class="at">command</span>(<span class="st">&#39;hello&#39;</span><span class="op">,</span> <span class="st">&#39;hello command&#39;</span>)</a>
<a class="sourceLine" id="cb44-4" title="4">  .<span class="at">command</span>(<span class="st">&#39;world&#39;</span><span class="op">,</span> <span class="st">&#39;world command&#39;</span>)</a>
<a class="sourceLine" id="cb44-5" title="5">  .<span class="at">demand</span>(<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;must provide a valid command&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb44-6" title="6">  argv <span class="op">=</span> <span class="va">yargs</span>.<span class="at">argv</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-7" title="7">  command <span class="op">=</span> <span class="va">argv</span>.<span class="at">_</span>[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb44-8" title="8"></a>
<a class="sourceLine" id="cb44-9" title="9"><span class="cf">if</span> (command <span class="op">===</span> <span class="st">&#39;hello&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb44-10" title="10">  <span class="va">yargs</span>.<span class="at">reset</span>()</a>
<a class="sourceLine" id="cb44-11" title="11">    .<span class="at">usage</span>(<span class="st">&#39;$0 hello&#39;</span>)</a>
<a class="sourceLine" id="cb44-12" title="12">    .<span class="at">help</span>(<span class="st">&#39;h&#39;</span>)</a>
<a class="sourceLine" id="cb44-13" title="13">    .<span class="at">example</span>(<span class="st">&#39;$0 hello&#39;</span><span class="op">,</span> <span class="st">&#39;print the hello message!&#39;</span>)</a>
<a class="sourceLine" id="cb44-14" title="14">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb44-15" title="15"></a>
<a class="sourceLine" id="cb44-16" title="16">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;hello!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb44-17" title="17"><span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (command <span class="op">===</span> <span class="st">&#39;world&#39;</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb44-18" title="18">  <span class="va">yargs</span>.<span class="at">reset</span>()</a>
<a class="sourceLine" id="cb44-19" title="19">    .<span class="at">usage</span>(<span class="st">&#39;$0 world&#39;</span>)</a>
<a class="sourceLine" id="cb44-20" title="20">    .<span class="at">help</span>(<span class="st">&#39;h&#39;</span>)</a>
<a class="sourceLine" id="cb44-21" title="21">    .<span class="at">example</span>(<span class="st">&#39;$0 world&#39;</span><span class="op">,</span> <span class="st">&#39;print the world message!&#39;</span>)</a>
<a class="sourceLine" id="cb44-22" title="22">    .<span class="at">argv</span></a>
<a class="sourceLine" id="cb44-23" title="23"></a>
<a class="sourceLine" id="cb44-24" title="24">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;world!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb44-25" title="25"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb44-26" title="26">  <span class="va">yargs</span>.<span class="at">showHelp</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb44-27" title="27"><span class="op">}</span></a></code></pre></div>
<h2 id="argv">.argv</h2>
<p>Get the arguments as a plain old object.</p>
<p>Arguments without a corresponding flag show up in the <code>argv._</code> array.</p>
<p>The script name or node command is available at <code>argv.$0</code> similarly to how <code>$0</code> works in bash or perl.</p>
<h1 id="parsing-tricks">parsing tricks</h1>
<h2 id="stop-parsing">stop parsing</h2>
<p>Use <code>--</code> to stop parsing flags and stuff the remainder into <code>argv._</code>.</p>
<pre><code>$ node examples/reflect.js -a 1 -b 2 -- -c 3 -d 4
{ _: [ &#39;-c&#39;, &#39;3&#39;, &#39;-d&#39;, &#39;4&#39; ],
  &#39;$0&#39;: &#39;node ./examples/reflect.js&#39;,
  a: 1,
  b: 2 }</code></pre>
<h2 id="negate-fields">negate fields</h2>
<p>If you want to explicity set a field to false instead of just leaving it undefined or to override a default you can do <code>--no-key</code>.</p>
<pre><code>$ node examples/reflect.js -a --no-b
{ _: [],
  &#39;$0&#39;: &#39;node ./examples/reflect.js&#39;,
  a: true,
  b: false }</code></pre>
<h2 id="numbers">numbers</h2>
<p>Every argument that looks like a number (<code>!isNaN(Number(arg))</code>) is converted to one. This way you can just <code>net.createConnection(argv.port)</code> and you can add numbers out of <code>argv</code> with <code>+</code> without having that mean concatenation, which is super frustrating.</p>
<h2 id="duplicates">duplicates</h2>
<p>If you specify a flag multiple times it will get turned into an array containing all the values in order.</p>
<pre><code>$ node examples/reflect.js -x 5 -x 8 -x 0
{ _: [],
  &#39;$0&#39;: &#39;node ./examples/reflect.js&#39;,
    x: [ 5, 8, 0 ] }</code></pre>
<h2 id="dot-notation">dot notation</h2>
<p>When you use dots (<code>.</code>s) in argument names, an implicit object path is assumed. This lets you organize arguments into nested objects.</p>
<pre><code> $ node examples/reflect.js --foo.bar.baz=33 --foo.quux=5
 { _: [],
   &#39;$0&#39;: &#39;node ./examples/reflect.js&#39;,
     foo: { bar: { baz: 33 }, quux: 5 } }</code></pre>
<h2 id="short-numbers">short numbers</h2>
<p>Short numeric <code>head -n5</code> style argument work too:</p>
<pre><code>$ node reflect.js -n123 -m456
{ &#39;3&#39;: true,
  &#39;6&#39;: true,
  _: [],
  &#39;$0&#39;: &#39;node ./reflect.js&#39;,
  n: 123,
  m: 456 }</code></pre>
<h1 id="installation">installation</h1>
<p>With <a href="http://github.com/isaacs/npm">npm</a>, just do:</p>
<pre><code>npm install yargs</code></pre>
<p>or clone this project on github:</p>
<pre><code>git clone http://github.com/bcoe/yargs.git</code></pre>
<p>To run the tests with npm, just do:</p>
<pre><code>npm test</code></pre>
<h1 id="inspired-by">inspired by</h1>
<p>This module is loosely inspired by Perl’s <a href="http://search.cpan.org/~photo/Getopt-Casual-0.13.1/Casual.pm">Getopt::Casual</a>.</p>
</body>
</html>
